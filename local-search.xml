<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Python</title>
    <link href="/2022/11/11/Python%E8%AF%86%E5%88%AB%E5%9C%86%E7%8E%87/"/>
    <url>/2022/11/11/Python%E8%AF%86%E5%88%AB%E5%9C%86%E7%8E%87/</url>
    
    <content type="html"><![CDATA[<h1>Python-圆率处理</h1><h3 id="报错">报错</h3><h4 id="使用命令-pip-install-U-pip-升级pip时报错—-pip3">使用命令 pip install -U pip 升级pip时报错—! pip3</h4><ul><li>报错内容：def read(rel_path: str) -&gt; str SyntaxError: invalid <a href="https://so.csdn.net/so/search?q=syntax&amp;spm=1001.2101.3001.7020" title="syntax">syntax</a></li></ul><p>解决办法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">python -m pip install --user --upgrade pip==20.2.4<br>/usr/bin/python -m pip install --upgrade pip<br></code></pre></td></tr></table></figure><h3 id="识别图中的圆">识别图中的圆</h3><p><a href="https://blog.csdn.net/jizhidexiaoming/article/details/98051051" title="参考链接">参考链接</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">此方法是一种动态自适应找圆方法</span><br><span class="hljs-string">使用方法：</span><br><span class="hljs-string">im_floodfill = get_adaptive_circle(crop_img)</span><br><span class="hljs-string">输入原图crop_img</span><br><span class="hljs-string">返回mask</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br> <br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br> <br> <br><span class="hljs-comment"># 求最大连通域的中心点坐标</span><br><span class="hljs-comment"># def centroid(max_contour):</span><br><span class="hljs-comment">#     moment = cv2.moments(max_contour)</span><br><span class="hljs-comment">#     if moment[&#x27;m00&#x27;] != 0:</span><br><span class="hljs-comment">#         cx = int(moment[&#x27;m10&#x27;] / moment[&#x27;m00&#x27;])</span><br><span class="hljs-comment">#         cy = int(moment[&#x27;m01&#x27;] / moment[&#x27;m00&#x27;])</span><br><span class="hljs-comment">#         return cx, cy</span><br><span class="hljs-comment">#     else:</span><br><span class="hljs-comment">#         return None</span><br> <br> <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">fillHole</span>(<span class="hljs-params">im_in</span>):<br>    im_floodfill = im_in.copy()<br>    im_floodfill = np.uint8(im_floodfill)<br>    row, col, dim = im_floodfill.shape<br> <br>    <span class="hljs-comment"># Mask used to flood filling</span><br>    <span class="hljs-comment"># Notice the size needs to be 2 pixels than the image</span><br>    mask = np.zeros((row+<span class="hljs-number">2</span>, col+<span class="hljs-number">2</span>), np.uint8)<br> <br>    <span class="hljs-comment"># Floodfill from point int(row/2), int(col/2)</span><br>    cv2.floodFill(im_floodfill, mask, (<span class="hljs-built_in">int</span>(row/<span class="hljs-number">2</span>), <span class="hljs-built_in">int</span>(col/<span class="hljs-number">2</span>)), (<span class="hljs-number">255</span>, <span class="hljs-number">255</span>,<span class="hljs-number">255</span>))<br>    <span class="hljs-comment"># cv2.morphologyEx(im_floodfill, cv2.MORPH_ELLIPSE, mask)</span><br>    <span class="hljs-keyword">return</span> im_floodfill<br> <br> <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_adaptive_circle</span>(<span class="hljs-params">crop_img</span>):<br>    ori_row, ori_col, ori_dim = crop_img.shape<br>    img = cv2.resize(crop_img, (<span class="hljs-number">240</span>, <span class="hljs-number">270</span>))<br>    row, col, dim = img.shape<br>    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)  <span class="hljs-comment"># 灰度图像</span><br> <br>    edges = cv2.Canny(gray, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>)<br> <br>    kernel = cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (<span class="hljs-number">15</span>, <span class="hljs-number">15</span>))  <span class="hljs-comment"># 圆形kernel</span><br>    closing = cv2.morphologyEx(edges, cv2.MORPH_CLOSE, kernel, <span class="hljs-number">100</span>)<br> <br>    <span class="hljs-comment"># 提取边缘</span><br>    contours, hierarchy = cv2.findContours(closing, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)<br> <br>    <span class="hljs-comment"># 找到最大的contour</span><br>    area = []<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(contours)):<br>        area.append(cv2.contourArea(contours[j]))<br>    max_idx = np.argmax(area)<br> <br>    <span class="hljs-comment"># 求椭圆</span><br>    ellipse = cv2.fitEllipse(contours[max_idx])  <span class="hljs-comment">#  [ (x, y) , (a, b), angle ]</span><br>    ellipse_img = np.zeros((row, col, dim))<br>    cv2.ellipse(ellipse_img, ellipse, (<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>), <span class="hljs-number">2</span>)<br> <br>    <span class="hljs-comment"># 填充椭圆</span><br>    ellipse_fill = fillHole(ellipse_img)<br>    ellipse_fill = cv2.resize(ellipse_fill, (ori_row, ori_col))<br>    ret, ellipse_fill = cv2.threshold(ellipse_fill[:, :, <span class="hljs-number">0</span>], <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, cv2.THRESH_BINARY | cv2.THRESH_TRIANGLE)<br> <br>    <span class="hljs-comment"># cv2.imshow(&#x27;Canny&#x27;, edges)</span><br>    <span class="hljs-comment"># cv2.imshow(&#x27;closing&#x27;, closing)</span><br>    <span class="hljs-comment"># cv2.imshow(&#x27;ellipse_img&#x27;, ellipse_img)</span><br>    <span class="hljs-comment"># cv2.imshow(&#x27;ellipse_fill&#x27;, ellipse_fill)</span><br>    <span class="hljs-comment">#</span><br>    <span class="hljs-comment"># cv2.waitKey(0)</span><br> <br>    <span class="hljs-keyword">return</span> ellipse_fill<br> <br> <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    img = cv2.imread(<span class="hljs-string">&quot;/home/1.png&quot;</span>)<br>    crop_img = img[<span class="hljs-number">650</span>:<span class="hljs-number">1400</span>, <span class="hljs-number">1000</span>:<span class="hljs-number">1750</span>]<br> <br>    ellipse = get_adaptive_circle(crop_img)<br> <br>    <span class="hljs-comment"># save_img_path = os.path.join(save_path, imgs_list[i])</span><br>    <span class="hljs-comment"># cv2.imwrite(save_img_path, ellipse)</span><br> <br> <br></code></pre></td></tr></table></figure><h3 id="计算轮廓的等效直径">计算轮廓的等效直径</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_contour</span>(<span class="hljs-params">img</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;获取连通域</span><br><span class="hljs-string"></span><br><span class="hljs-string">    :param img: 输入图片</span><br><span class="hljs-string">    :return: 最大连通域</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-comment"># 灰度化, 二值化, 连通域分析</span><br>    img_gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)<br><br>    ret, img_bin = cv2.threshold(img_gray, <span class="hljs-number">127</span>, <span class="hljs-number">255</span>, cv2.THRESH_BINARY)<br><br>    img_contour, contours, hierarchy = cv2.findContours(img_bin, cv2.RETR_LIST, cv2.CHAIN_APPROX_SIMPLE)<br><br>    <span class="hljs-keyword">return</span> contours[<span class="hljs-number">0</span>]<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br><br>    <span class="hljs-comment"># 1.导入图片</span><br>    img_src = cv2.imread(<span class="hljs-string">&quot;cc.jpg&quot;</span>)<br>    img_result = img_src.copy()<br><br>    <span class="hljs-comment"># 2.获取连通域</span><br>    cont = get_contour(img_src)<br>    cv2.drawContours(img_result, cont, -<span class="hljs-number">1</span>, (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>), <span class="hljs-number">2</span>)<br><br>    <span class="hljs-comment"># 3.获取轮廓面积</span><br>    cnt_area = cv2.contourArea(cont)<br><br>    <span class="hljs-comment"># 4.计算等效直径</span><br>    equi_diameter = np.sqrt(<span class="hljs-number">4</span> * cnt_area / np.pi)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;轮廓面积=&quot;</span>, cnt_area)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;等效直径=%.4f&quot;</span> % equi_diameter)<br><br>    cv2.circle(img_result, (<span class="hljs-number">100</span>, <span class="hljs-number">100</span>), <span class="hljs-built_in">int</span>(equi_diameter/<span class="hljs-number">2</span>), (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>), <span class="hljs-number">1</span>)<br><br>    <span class="hljs-comment"># 5.显示结果</span><br>    cv2.imshow(<span class="hljs-string">&quot;img_result&quot;</span>, img_result)<br><br>    cv2.waitKey()<br>    cv2.destroyAllWindows()<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    main()<br><br><br></code></pre></td></tr></table></figure><ul><li><p>cv2.threshold—对图片进行二值化处理</p><p><a href="https://www.cnblogs.com/yinliang-liang/p/9293310.html" title="参考链接">参考链接</a></p><p>函数为cv2.threshold()<br>这个函数有四个参数，第一个原图像，第二个进行分类的阈值，第三个是高于（低于）阈值时赋予的新值，第四个是选择方法</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">import cv2<br>import matplotlib.pyplot as plt<br><br>img = cv2.imread(<span class="hljs-string">&#x27;C:\\Users\\Administrator\\Desktop\\image\\ll.jpg&#x27;</span>)<br>gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)<br>ret,thresh1 = cv2.threshold(gray,127,255,cv2.THRESH_BINARY)<br>ret,thresh2 = cv2.threshold(gray,127,255,cv2.THRESH_BINARY_INV)<br>ret,thresh3 = cv2.threshold(gray,127,255,cv2.THRESH_TRUNC)<br>ret,thresh4 = cv2.threshold(gray,127,255,cv2.THRESH_TOZERO)<br>ret,thresh5 = cv2.threshold(gray,127,255,cv2.THRESH_TOZERO_INV)<br>titles = [<span class="hljs-string">&#x27;img&#x27;</span>,<span class="hljs-string">&#x27;BINARY&#x27;</span>,<span class="hljs-string">&#x27;BINARY_INV&#x27;</span>,<span class="hljs-string">&#x27;TRUNC&#x27;</span>,<span class="hljs-string">&#x27;TOZERO&#x27;</span>,<span class="hljs-string">&#x27;TOZERO_INV&#x27;</span>]<br>images = [img,thresh1,thresh2,thresh3,thresh4,thresh5]<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(6):<br>    plt.subplot(2,3,i+1),plt.imshow(images[i],<span class="hljs-string">&#x27;gray&#x27;</span>)<br>    plt.title(titles[i])<br>    plt.xticks([]),plt.yticks([])<br>plt.show()<br></code></pre></td></tr></table></figure></li><li><p>解决putty上vim小键盘用不了的问题</p><p><a href="https://blog.csdn.net/zhangqingjie35/article/details/8946199" title="参考链接">参考链接</a></p><p>Putty设置中Teminal -&gt; Features - &gt; Disable application keypad mod前面选中即可。</p></li><li><p>cv2.findContours()函数</p><h2 id="参数">参数</h2><p>第一个参数是寻找轮廓的图像；</p><p>第二个参数表示轮廓的检索模式，有四种（本文介绍的都是新的cv2接口）：<br>    cv2.RETR_EXTERNAL表示只检测外轮廓<br>    cv2.RETR_LIST检测的轮廓不建立等级关系<br>    cv2.RETR_CCOMP建立两个等级的轮廓，上面的一层为外边界，里面的一层为内孔的边界信息。如果内孔内还有一个连通物体，这个物体的边界也在顶层。<br>    cv2.RETR_TREE建立一个等级树结构的轮廓。</p><p>第三个参数method为轮廓的近似办法<br>    cv2.CHAIN_APPROX_NONE存储所有的轮廓点，相邻的两个点的像素位置差不超过1，即max（abs（x1-x2），abs（y2-y1））==1<br>    cv2.CHAIN_APPROX_SIMPLE压缩水平方向，垂直方向，对角线方向的元素，只保留该方向的终点坐标，例如一个矩形轮廓只需4个点来保存轮廓信息<br>    cv2.CHAIN_APPROX_TC89_L1，CV_CHAIN_APPROX_TC89_KCOS使用teh-Chinl chain 近似算法</p><h2 id="返回值">返回值</h2></li><li><p>cv2.findContours()函数返回两个值，一个是轮廓本身，还有一个是每条轮廓对应的属性</p></li><li><p>cv2.moments()—获取质心</p><p><a href="http://edu.pointborn.com/article/2021/11/19/1709.html" title="参考链接">参考链接</a></p><p><a href="https://blog.csdn.net/youandme520/article/details/108264034" title="参考链接2">参考链接2</a></p><p>M 中包含了很多轮廓的特征信息，比如 M[‘m00’] 表示轮廓面积，与前面 cv2.contourArea() 计算结果是一样的。质心也可以用它来算：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">M = cv2.moments(cnt)<br>cx, cy = M[<span class="hljs-string">&#x27;m10&#x27;</span>] / M[<span class="hljs-string">&#x27;m00&#x27;</span>], M[<span class="hljs-string">&#x27;m01&#x27;</span>] / M[<span class="hljs-string">&#x27;m00&#x27;</span>] <br><br></code></pre></td></tr></table></figure></li><li><p>可能有用的链接</p><p><a href="https://blog.csdn.net/zsc201825/article/details/92234600" title="二值图轮廓转为面矢量数据，并计算每个面矢量的面积"><strong>二值图轮廓转为面矢量数据，并计算每个面矢量的面积</strong></a></p><p><a href="https://zhuanlan.zhihu.com/p/398237689" title="python+opencv实现对位图提取轮廓并导出为无背景的svg矢量图"><strong>python+opencv实现对位图提取轮廓并导出为无背景的svg矢量图</strong></a></p><p><a href="https://blog.csdn.net/weixin_39541632/article/details/104168310" title="cv2小记——轮廓特征"><strong>cv2小记——轮廓特征</strong></a></p><p><a href="https://blog.csdn.net/LaoYuanPython/article/details/109020778" title="OpenCV-Python图像的减法运算cv2.subtract函数详解以及和矩阵减法的差异对比"><strong>OpenCV-Python图像的减法运算cv2.subtract函数详解以及和矩阵减法的差异对比</strong></a></p></li><li><p>cv2图片减法的解释</p><p><a href="http://www.juzicode.com/opencv-python-subtract-absdiff/" title="参考链接">参考链接</a></p></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Study</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ORR计算相关</title>
    <link href="/2022/11/11/ORR%E8%AE%A1%E7%AE%97/"/>
    <url>/2022/11/11/ORR%E8%AE%A1%E7%AE%97/</url>
    
    <content type="html"><![CDATA[<h1>ORR课题计算</h1><p><a href="http://muchong.com/t-3191417-1" title="通过MS建立石墨烯模型的方法">通过MS建立石墨烯模型的方法</a></p><p><a href="https://www.wolai.com/gV5pdkWFrX1LAbcGZAQxPo" title="电催化相关知识总结">电催化相关知识总结</a></p><p><a href="https://www.wolai.com/jrXb75PLGY2AHhsjvgrrf3" title="VASP相关">VASP相关</a></p><p><a href="https://www.wolai.com/c5FVsvrKbSbJnnmmRdMZSK" title="VASP关键词理解">VASP关键词理解</a></p><p><a href="https://www.wolai.com/vANdFUSdLn6riLTxJWAZYk" title="疑问点">疑问点</a></p><ul><li><p>非常重要的文献</p><p><a href="https://doi.org/10.1021/jp047349j" title="J. Phys. Chem. B"><em>J. Phys. Chem. B</em></a><a href="https://doi.org/10.1021/jp047349j" title=" 2004, 108, 46, 17886–17892"> 2004, 108, 46, 17886–17892</a></p><p><a href="https://zhuanlan.zhihu.com/p/151403053" title="20200610经典-破千引用的电催化计算开山之作 - 知乎 (zhihu.com)">20200610经典-破千引用的电催化计算开山之作 - 知乎 (zhihu.com)</a></p></li><li><p>校正分子和吸附分子自由能</p><p><a href="http://blog.wangruixing.cn/2019/04/21/freenergy/" title="博客链接">博客链接</a></p><p><a href="https://janaf.nist.gov/" title="https://janaf.nist.gov/">https://janaf.nist.gov/</a> —热力学信息的网站</p></li></ul><p>2电子的基元反应：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>O</mi><mn>2</mn></msub><msup><mo>+</mo><mo>∗</mo></msup><mo>+</mo><mi>H</mi><mn>2</mn><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mo stretchy="false">)</mo><mo>+</mo><msup><mi>e</mi><mo>−</mo></msup><mo>=</mo><msup><mo>=</mo><mo>∗</mo></msup><mi>O</mi><mi>O</mi><mi>H</mi><mo>+</mo><mi>O</mi><msup><mi>H</mi><mo>−</mo></msup><mo stretchy="false">(</mo><mi>a</mi><mi>q</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O_2 + ^* + H2O(l) + e^- == ^*OOH + OH^-(aq)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8887em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mbin">+</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">+</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8213em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.7387em;"></span><span class="mrel"><span class="mrel">=</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">OO</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0713em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span></span></span></span></span></p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mrow></mrow><mo>∗</mo></msup><mi>O</mi><mi>O</mi><mi>H</mi><mo>+</mo><mi>O</mi><msup><mi>H</mi><mo>−</mo></msup><mo stretchy="false">(</mo><mi>a</mi><mi>q</mi><mo stretchy="false">)</mo><mo>+</mo><msup><mi>e</mi><mo>−</mo></msup><mo>=</mo><mo>=</mo><mi>O</mi><mi>O</mi><msup><mi>H</mi><mo>−</mo></msup><mo stretchy="false">(</mo><mi>a</mi><mi>q</mi><mo stretchy="false">)</mo><msup><mo>+</mo><mo>∗</mo></msup><mo>+</mo><mi>O</mi><mi>H</mi><mo>−</mo><mo stretchy="false">(</mo><mi>a</mi><mi>q</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">^*OOH +OH^-(aq) +e^- == OOH^-(aq) + ^* +OH-(aq)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.822em;vertical-align:-0.0833em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.02778em;">OO</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0713em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8213em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">==</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0713em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">OO</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin"><span class="mbin">+</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">+</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span></span></span></span></span></p><h3 id="单位转化：">单位转化：</h3><p><a href="http://muchong.com/html/201706/4307830.html" title="帖子1">帖子1</a></p><p><a href="http://bbs.keinsci.com/thread-19311-1-1.html" title="帖子2">帖子2</a></p><p><img src="/img/ORR/1.png" alt=""></p><h3 id="标准自由能计算（热力学数值计算）：">标准自由能计算（热力学数值计算）：</h3><p><a href="http://muchong.com/html/201808/12548416.html" title="ORR反应中氢氧根能量怎么算？">ORR反应中氢氧根能量怎么算？</a></p><p>如果你按Noskov的那一套，不需要直接计算-OH根的。通过考虑O, OH, OOH在零电压情况和中性条件下的吸附，以H2, H2O分子的能量作为参考，可计算出O, OH和OOH的吸附能，然后得到每步反应的自由能的变化。 酸碱度的影响，在没有考虑溶剂化效应（显式的，比如直接加入水分子；隐式的，比如PCM之类的溶剂化模型）下，直接通过pH的关系式加入。</p><p><a href="https://zhuanlan.zhihu.com/p/397853924" title="链接">链接</a></p><p><img src="/img/ORR/2.png" alt="Table A: DFT energies, Zero point energy, enthalpic temperature correction and entropy correction at 25 C. The entropies of H2(g), CO(g) and CO2(g) are calculated at 1 atm, while the entropy of H2O(g=l) is calculated at 0.035 atm, which corresponds to the vapor pressure of liquid water. Units are in eV."></p><h4 id="方法的不同分为超软赝势-USPP-和投影缀加波的赝势-PAW-根据交换关联函数的不同有-LDA-和-GGA-又可以再分为-PW91-和-PBE">方法的不同分为超软赝势(USPP)和投影缀加波的赝势(PAW) 根据交换关联函数的不同有 LDA 和 GGA(又可以再分为 PW91 和 PBE)</h4><p><a href="https://www.jianshu.com/p/682f1f64e53c" title="qsub提交任务的相关知识">qsub提交任务的相关知识</a></p><p><a href="https://zhuanlan.zhihu.com/p/110081982" title="理解氧还原反应的催化活性趋势">理解氧还原反应的催化活性趋势</a></p><p><a href="https://www.guanjihuan.com/archives/20869" title="贝里曲率的计算">贝里曲率的计算</a></p><p>曲率计算公式：</p><p>将CONTCAR文件的分数坐标转化为笛卡尔坐标，再将单位转化为nm，以a轴坐标为x轴，c轴坐标为y轴作图，通过6阶多项式拟合获得其位置的拟合曲线，再根据曲率计算公式：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>K</mi><mi>n</mi></msub><mo>=</mo><mfrac><mrow><mi mathvariant="normal">∣</mi><msup><mi>y</mi><mrow><mo mathvariant="normal">′</mo><mo mathvariant="normal">′</mo></mrow></msup><mi mathvariant="normal">∣</mi></mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><msup><mo stretchy="false">)</mo><mfrac><mn>3</mn><mn>2</mn></mfrac></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">K_n=\frac{|y&#x27;&#x27;|}{(1+y&#x27;)^{\frac32}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.5085em;vertical-align:-1.0796em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4289em;"><span style="top:-2.1704em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6779em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9396em;"><span style="top:-3.3486em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′′</span></span></span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0796em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>随后将所有点的曲率求平均，获得结构的平均曲率：</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi>K</mi><mo>ˉ</mo></mover><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>n</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>K</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">\bar K = \frac1N\sum^N_{n=1}K_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8201em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.0954em;vertical-align:-1.2671em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8829em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2671em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p><a href="http://sobereva.com/373" title="谈谈赝势基组的选用 - 思想家公社的门口：量子化学·分子模拟·二次元 (sobereva.com)">谈谈赝势基组的选用 - 思想家公社的门口：量子化学·分子模拟·二次元 (sobereva.com)</a></p><p>赝势的选择，一般来说硬的电势截断能要求更大，还有赝势对不同轨道电子的电芯化的不同也会有差异。</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>E</mi><mrow><mi>a</mi><mi>d</mi><mi>s</mi></mrow></msub><mo stretchy="false">(</mo><mo separator="true">⋅</mo><mi>O</mi><mi>O</mi><mi>H</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>E</mi><mrow><mi>a</mi><mi>d</mi><mi>s</mi></mrow></msub><mo>−</mo><msub><mi>E</mi><mrow><mi>s</mi><mi>l</mi><mi>a</mi><mi>b</mi></mrow></msub><mo>−</mo><msub><mi>E</mi><mrow><mo separator="true">⋅</mo><mi>O</mi><mi>O</mi><mi>H</mi></mrow></msub></mrow><annotation encoding="application/x-tex">E_{ads}(·OOH) = E_{ads} - E_{slab} - E_{·OOH}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">OO</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">ab</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mpunct mtight">⋅</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">OO</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>E</mi><mrow><mi>a</mi><mi>d</mi><mi>s</mi></mrow></msub><mo stretchy="false">(</mo><mo separator="true">⋅</mo><mi>O</mi><mi>O</mi><mi>H</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>E</mi><mrow><mi>g</mi><mi>r</mi><msub><mi>a</mi><mrow><mi>a</mi><mi>d</mi><mi>s</mi></mrow></msub></mrow></msub><mo>−</mo><msub><mi>E</mi><mrow><mi>g</mi><mi>r</mi><mi>a</mi></mrow></msub><mo>−</mo><msub><mi>E</mi><mrow><mo separator="true">⋅</mo><mi>O</mi><mi>O</mi><mi>H</mi></mrow></msub></mrow><annotation encoding="application/x-tex">E_{ads}(·OOH) = E_{gra_{ads}} - E_{gra} - E_{·OOH}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">OO</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mpunct mtight">⋅</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">OO</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><h3 id="吉布斯自由能变化的计算公式">吉布斯自由能变化的计算公式</h3><blockquote><p><a href="https://doi.org/10.1016/j.apcatb.2019.117930" title="Applied Catalysis B: Environmental, 2019, 257, 117930">Applied Catalysis B: Environmental, 2019, 257, 117930</a></p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>G</mi><mo>=</mo><mi mathvariant="normal">Δ</mi><mi>E</mi><mo>−</mo><mi>T</mi><mi mathvariant="normal">Δ</mi><mi>S</mi><mo>+</mo><mi mathvariant="normal">Δ</mi><mi>Z</mi><mi>P</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">  \Delta G = \Delta E - T\Delta S + \Delta ZPE</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Δ</span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.05764em;">ZPE</span></span></span></span></span></p><p><a href="https://doi.org/10.1021/jp047349j" title="J. Phys. Chem. B 2004, 108, 46, 17886–17892"><em>J. Phys. Chem. B 2004, 108, 46, 17886–17892</em></a></p><p><img src="/img/ORR/3.png" alt=""></p><p>The free energy pathway of ORR on different sites was calculated by using the computational hydrogen electrode (CHE) model <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mrow></mrow><mrow><mo stretchy="false">[</mo><mn>5</mn><mo stretchy="false">]</mo></mrow></msup></mrow><annotation encoding="application/x-tex">^{[5]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.888em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">[</span><span class="mord mtight">5</span><span class="mclose mtight">]</span></span></span></span></span></span></span></span></span></span></span></span>, and this can be converted to the adsorption free energy by adding zero-point energy (ZPE) and entropy (TS) as follows:</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>G</mi><mo>=</mo><mi mathvariant="normal">Δ</mi><mi>E</mi><mo>−</mo><mi>T</mi><mi mathvariant="normal">Δ</mi><mi>S</mi><mo>+</mo><mi mathvariant="normal">Δ</mi><mi>Z</mi><mi>P</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">\Delta G = \Delta E - T\Delta S + \Delta ZPE</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Δ</span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.05764em;">ZPE</span></span></span></span></span></p><p><a href="http://bbs.keinsci.com/thread-21097-1-1.html" title="一篇讨论该问题的帖子">一篇讨论该问题的帖子</a></p></blockquote><h3 id="写赝势文件的命令">写赝势文件的命令 </h3><p>按POSCAR文件中，每类原子的顺序把各类原子相应的赝势合并到同一个POTCAR文件中。需要注意每类原子的赝势类型一致。生成POTCAR文件的命令为cat /…/PAW_PBE/{A1,A2,A3,…,An}/POTCAR&gt;&gt; POTCAR，其中/…/表示赝势包的路径，PAW_PBE代表赝势种类，{A1,A2,A3,…,An}代表原子种类。</p><h3 id="VASP表面吸附计算中的几个细节问题">VASP表面吸附计算中的几个细节问题</h3><ol><li><p>根据教程，小分子的优化也需要放在晶格中进行优化，那么这个晶格的晶胞参数大小需要和优化晶体表面时的晶胞参数保持一致么？</p><p>没必要，优化分子采用的格子应该要类似于处理真空层那样测试到能量收敛，当然，需要三个方向都进行偶极修正，否则能量是收敛不了的</p></li></ol><p><a href="http://bbs.keinsci.com/thread-3871-1-1.html" title="参考帖子">参考帖子</a></p><h3 id="晶格参数的优化">晶格参数的优化</h3><p><a href="https://zhuanlan.zhihu.com/p/124134649" title=" VASP计算笔记-晶格常数优化"> VASP计算笔记-晶格常数优化</a></p><p>ISIF=3</p><p>或者取点，不同的晶格常数进行单点计算获得其能量</p><h3 id="vasp计算不收敛的处理办法">vasp计算不收敛的处理办法</h3><p><a href="http://bbs.keinsci.com/thread-13065-1-1.html" title="参考帖子">参考帖子</a></p><p><strong>几何结构优化不收敛尝试以下方法：</strong><a href="http://blog.wangruixing.cn/2019/05/01/scf/#ji-he-jie-gou-you-hua-bu-shou-lian-chang-shi-yi-xia-fang-fa" title="#"><strong>#</strong></a></p><p>（1）如果力在接近收敛的区域震荡，很有可能是电子步精度不够高，尝试EDIFF=1E-6或者EDIFF = 1E-7</p><p>（2）如果力在接近收敛的区域震荡尝试IBRION=1</p><p>（3）如果初始结构不好，或者在优化的前几步结构就崩了，IBRION=2，步长<strong>POTIM缩小</strong>到0.2或0.1。（尤其是对双原子分子的优化，要限制步长）。如果在极小点附近出现震荡，POTIM可以缩小到0.05。</p><p>（4）调整初始结构。过渡态优化失败不收敛最大的原因就是初始结构不合理。</p><p>（5）如果体系结构复杂，原子多导致结构收敛慢，力收敛趋势和能量收敛趋势向下，尝试增加收敛步数，NSW=1000。尤其是对于加了vdW校正的，优化收敛会变得非常慢。</p><p>（6）尝试IBRION=3，阻尼md的方法往往对超大体系收敛效果好。</p><p>（7）调整晶体的对称性，或先使用ISYM=0优化，如果优化一开始的初猜结构具有较高对称性，那么优化过程中这个对称性多数情况下会一直保持。如果实际上体系本身势能面极小点的结构并没有那么高的对称性，则很容易造成优化不能收敛，而且即便收敛了也会有虚频。</p><p>（8）改变收敛标准：几何优化的收敛标准一般为EDIFFG= -0.02，</p><p>对于体系较大难以收敛的体系，见到文献里有用EDIFFG= -0.05的。但是不建议使用更大的收敛标准了。</p><p>（9）使用更精确的积分格点精度，PREC=Accurate等。</p><p><a href="https://cndaqiang.github.io/2018/01/23/vasp-step1/" title="vasp计算流程-结构优化">vasp计算流程-结构优化</a></p><p><a href="https://blog.csdn.net/pro_fan/article/details/84348793" title="Linux系统查看文件的五种方式">Linux系统查看文件的五种方式</a></p><p><a href="https://zhuanlan.zhihu.com/p/375225878" title="MS中斜方晶格转换为正交晶格">MS中斜方晶格转换为正交晶格</a></p><h3 id="赝势文件">赝势文件</h3><p>PAW_LDA</p><p>PAW_PBE</p><p>PAW_PW91</p><p>USPP_LDA</p><p>USPP_PW91</p><h3 id="VASP结构优化过程中查看能量和力收敛">VASP结构优化过程中查看能量和力收敛</h3><p><a href="http://blog.sina.com.cn/s/blog_b364ab230102vxj8.html" title="http://blog.sina.com.cn/s/blog_b364ab230102vxj8.html">http://blog.sina.com.cn/s/blog_b364ab230102vxj8.html</a></p><h3 id="报错-ZBRENT">报错 ZBRENT</h3><p>ZBRENT: fatal error in bracketing</p><p>please rerun with smaller EDIFF, or copy CONTCAR</p><p>to POSCAR and continue</p><p>原因以及解决办法</p><p><strong>该错误一般是由于电荷重叠引起的或对称性不匹配引起的</strong></p><ol><li><p>修改EDIFF，即按照其要求降低EDIFF重新计算</p></li><li><p>改变IBRION方式，如变为IBRION=1的方法</p></li><li><p>增大POTIM的值，如POTIM=0.1</p></li></ol><h3 id="报错Error-EDDDAV-Call-to-ZHEGV-failed-Returncode-94-1-95">报错Error EDDDAV: Call to ZHEGV failed. Returncode = 94 1 95 </h3><p><a href="http://bbs.keinsci.com/thread-508-1-1.html" title="参考帖子">参考帖子</a></p><p>两种方法解决：<br>（1）POSCAR中晶格占位有问题，认真核对一下，这种错误可能性比较大！<br>（2）加ALGO=VERY_FAST，使用RMM方法收敛，可能还会报类似的错误，但能继续计算！</p><p><a href="https://www.wolai.com/tFQcVD1eBPm3DhoSKPouck" title="计算总结PPT">计算总结PPT</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Study</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>计算分子动力学直径</title>
    <link href="/2022/11/11/%E9%AB%98%E6%96%AF%E8%AE%A1%E7%AE%97%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E7%9B%B4%E5%BE%84/"/>
    <url>/2022/11/11/%E9%AB%98%E6%96%AF%E8%AE%A1%E7%AE%97%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E7%9B%B4%E5%BE%84/</url>
    
    <content type="html"><![CDATA[<h1>高斯计算分子动力学直径</h1><h2 id="前期准备">前期准备</h2><p>主要参考的是这篇<a href="http://bbs.keinsci.com/thread-14264-1-1.html" title="博文">博文</a></p><p>主要参考文献为 J. Phys. Chem. A, 118, 1150 (2014)</p><p>基于分子电子密度等值面的估计分子动力学直径的方法，对于文中测试的一系列小分子，计算结果和被普遍采用的Breck书里的那些值有不错的线性相关性。</p><p>在Multiwfn中输入以下命令</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs text">12  //定量分子表面分析<br>1   //选择表面的定义<br>1   //用电子密度等值面作为表面<br>0.0015  //用0.0015 a.u.作为等值面数值<br>6  //开始分析（但不考虑映射的函数，因为这不是我们目前感兴趣的）<br>6  //将表面顶点坐标导出为当前目录下的vtx.pdb<br><br></code></pre></td></tr></table></figure><p>通过vtx.pdb来考察分子动力学直径，主要有两个方法</p><ol><li><p>VMD，肉眼判断，再测距离</p></li><li><p>通过Multiwfn直接统计表面顶点的最大、最小坐标下</p></li></ol><h3 id="软件安装">软件安装</h3><p>以下两个软件我都是安装的win版的</p><h4 id="Multiwfn的安装">Multiwfn的安装</h4><p>在官网上下载软件，<a href="http://sobereva.com/multiwfn/" title="官网链接">官网链接</a></p><p>下载的是win版的，下载下来解压即可以直接使用。有个小问题是路径中不能有中文，不然无法正确读取文件。</p><h4 id="VMD的安装">VMD的安装</h4><p>下载了VMD，准备安装了才发现我以前安装了这个软件，安装这个软件需要登记一下邮箱等信息，如实填写就行。<a href="https://www.ks.uiuc.edu/Research/vmd/alpha/" title="下载链接">下载链接</a></p><h2 id="复现博文中的CO2分子动力学直径">复现博文中的CO2分子动力学直径</h2><h3 id="高斯计算">高斯计算</h3><h4 id="建模，gjf的编写">建模，gjf的编写</h4><p>按照博文中的数据写的gjf文件，对开头的chk和内存等设置做了修改。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs 纯文本">%chk=./CO2.chk<br>%mem=50000MB<br>%nprocshared=32<br># PBE1PBE/def2TZVPopt<br><br>Title Card Required<br><br>0 1<br>C 0.0 0.0 0.0<br>O 0.0 0.0 1.2584<br>O 0.0 0.0 -1.2584<br></code></pre></td></tr></table></figure><h4 id="计算与后处理">计算与后处理</h4><p>计算结果出得很快，几秒就计算完毕了, 以下是查看log文件的信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs 纯文本">[jason@cabc1 new]$ tail CO2.log<br><br><br> I WANT TO KNOW HOW GOD CREATED THE WORLD.  I AM NOT INTERESTED IN<br> THIS OR THAT PHENOMENON, IN THE SPECTRUM OF THIS OR THAT ELEMENT.<br> I WANT TO KNOW HIS THOUGHTS, THE REST ARE DETAILS.<br>     -- ALBERT EINSTEIN<br> Job cpu time:       0 days  0 hours  3 minutes 46.0 seconds.<br> Elapsed time:       0 days  0 hours  0 minutes  9.3 seconds.<br> File lengths (MBytes):  RWF=     10 Int=      0 D2E=      0 Chk=      2 Scr=      1<br> Normal termination of Gaussian 16 at Fri Nov 11 17:17:20 2022.<br><br></code></pre></td></tr></table></figure><p>对chk文件用formchk进行转化，将其转化为fchk文件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs 纯文本">[jason@cabc1 new]$ formchk CO2.chk<br> Read checkpoint file CO2.chk<br> Write formatted file CO2.fchk<br> Initial coordinates match /B/.<br> Warning:  fchk array  MicOpt element           1 has value 4622945017495814144 set to -1.<br> Warning:  fchk array  MicOpt element           2 has value 4625193954506324261 set to -1.<br> Warning:  fchk array  MicOpt element           3 has value 4625193954506324261 set to -1.<br> Rotating derivatives, DoTrsp=T IDiff= 1 LEDeriv=    485 LFDPrp=       0 LDFDPr=       0.<br><br></code></pre></td></tr></table></figure><p>出现了warning，但是我这个时候没有注意到这个warning，后面了解到这个是因为版本冲突引起的问题，在后文中会给出解决办法，这样依然可以生成fchk文件，并且后续处理我也没有遇到什么问题。</p><h3 id="Multiwfn处理计算数据">Multiwfn处理计算数据</h3><p>这里的处理就相当简单了，直接按照前面博文中所写的步骤运行就行，Multiwfn对新手上手来说还是很友好的，尤其是win版，开始直接按enter还可以图形化窗口选择输入文件，唯一需要注意的是文件的路径中不能有中文，不然会读取失败</p><blockquote><p>感觉好多计算的软件都不支持中文路径，MS里面有时候报错也是因为路径中有中文的问题，所以还是在盘符里面单独创建一个完全没有中文的文件来存放计算相关的文件比较合适，计算文件也不要用中文命名，避免出现各种奇葩报错。</p></blockquote><h3 id="VMD查看动力学直径">VMD查看动力学直径</h3><p>根据前一步得到的fchk文件，直接拖进VMD里面，然后按照文章中的设置，调整一下，很容易就读出了动力学直径。</p><p><img src="https://image.phoenixjason.cn/file/phoenixjason-img/MDD/1.png" alt="原始处理" title="原始处理"></p><p><img src="https://image.phoenixjason.cn/file/phoenixjason-img/MDD/2.png" alt="转化为点图" title="转化为点图"></p><p>经过选点处理，得到结果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 纯文本">Added new Bonds label MOL1:C/MOL1:C = 3.346498<br></code></pre></td></tr></table></figure><p><img src="https://image.phoenixjason.cn/file/phoenixjason-img/MDD/3.png" alt=""></p><p>与文章中的结果符合得很好，反而跟博文中的结果有点差异，看来选点对结果的影响还是很大的，这一步或许需要用程序来处理了（挖个坑，以后科研有需要了可以想想怎么写），这里跟博文中的结果差异，不知道是选点的问题还是formchk文件的问题，不过总体来说无伤大雅。</p><h2 id="对马来酸酐的分子动力学直径的计算">对马来酸酐的分子动力学直径的计算</h2><h3 id="高斯计算-2">高斯计算</h3><h4 id="建模，生成gjf文件">建模，生成gjf文件</h4><p>马来酸酐的化学式如图：</p><p><img src="https://image.phoenixjason.cn/file/phoenixjason-img/MDD/4.png" alt=""></p><p>这个我是用Chem Draw 20.0画的，用这个软件画完就可以直接生成mol文件，然后就可以导入到GaussianView里面生成gjf文件。对开头的chk以及mem和方法等自己输入设置之后，最后得到的gjf文件如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs 纯文本">%chk=./MA.chk<br>%mem=50000MB<br>%nprocshared=32<br># b3lyp/6-311+g(d, p) opt freq em=gd3<br><br>MA.mol<br><br>0 1<br> C                 -0.71360000    0.29750000    0.00000000<br> C                 -0.71360000   -0.52750000    0.00000000<br> C                  0.07110000   -0.78240000    0.00000000<br> C                  0.55600000   -0.11500000    0.00000000<br> O                  0.07110000    0.55240000    0.00000000<br> O                 -1.38100000    0.78240000    0.00000000<br> O                  1.38100000   -0.11500000    0.00000000<br> H                 -1.57922481   -1.15646239    0.00000000<br> H                  0.40178325   -1.80001908    0.00000000<br> <br><br></code></pre></td></tr></table></figure><p>这里用的是另外的基组进行计算，这个是以后我打算在自己的研究上用的泛函与基组，目前来说不清楚这样的设置是否能够得到准确的信息，但练手嘛，暂且先这样用着。</p><h4 id="计算与后处理-2">计算与后处理</h4><p>这个虽然多了几个原子，但是计算结果依然很快，不到一分钟就算完了，以下是tail MA.log得到的信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs 纯文本">[jason@cabc1 MDD]$ tail MA.log<br><br> ... A MOLECULAR SYSTEM ... (PASSES) ... FROM ONE STATE OF EQUILIBRIUM<br> TO ANOTHER ... BY MEANS OF ALL POSSIBLE INTERMEDIATE PATHS,<br> BUT THE PATH MOST ECONOMICAL OF ENERGY WILL BE THE MORE OFTEN TRAVELED.<br><br>                      -- HENRY EYRING, 1945<br> Job cpu time:       0 days  0 hours  8 minutes 24.3 seconds.<br> Elapsed time:       0 days  0 hours  0 minutes 16.7 seconds.<br> File lengths (MBytes):  RWF=     32 Int=      0 D2E=      0 Chk=      4 Scr=      1<br> Normal termination of Gaussian 16 at Fri Nov 11 20:18:16 2022.<br><br></code></pre></td></tr></table></figure><p>随后用formchk转化chk文件的格式：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs 纯文本">[jason@cabc1 MDD]$ formchk MA.chk<br> Read checkpoint file MA.chk<br> Write formatted file MA.fchk<br> Coordinates translated and rotated.<br> Coordinates match /B/ after translation and rotation.<br> Warning:  fchk array  MicOpt element           1 has value 4622945017495814144 set to -1.<br> Warning:  fchk array  MicOpt element           2 has value 4622945017495814144 set to -1.<br> Warning:  fchk array  MicOpt element           3 has value 4622945017495814144 set to -1.<br> Warning:  fchk array  MicOpt element           4 has value 4622945017495814144 set to -1.<br> Warning:  fchk array  MicOpt element           5 has value 4625193954506324261 set to -1.<br> Warning:  fchk array  MicOpt element           6 has value 4625193954506324261 set to -1.<br> Warning:  fchk array  MicOpt element           7 has value 4625193954506324261 set to -1.<br> Warning:  fchk array  MicOpt element           8 has value 4607217659633734768 set to -1.<br> Warning:  fchk array  MicOpt element           9 has value 4607217659633734768 set to -1.<br> Rotating derivatives, DoTrsp=T IDiff= 2 LEDeriv=   1349 LFDPrp=       0 LDFDPr=       0.<br><br></code></pre></td></tr></table></figure><p>这里的warning就很多，我这次就注意到了这个问题，于是我上网查了一下原因，可以参考的文章有：<a href="http://bbs.keinsci.com/thread-9632-1-1.html" title="链接1">链接1</a> <a href="https://mp.weixin.qq.com/s/HmUST3mqsy659ZPyJoIP6g" title="链接2">链接2</a>，大致上就是g06和g16的formchk文件是不一致的，解决办法也很简单，拿对应版本的formchk文件就行，我老师之前给我的应该是g09版本的formchk文件，后面我又重新找他要了g16版本的formchk文件，然后重新配置一下环境变量，运行起来就正常了，以下是正常输出结果的信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs 纯文本">[jason@cabc1 MDD]$ formchk MA.chk<br> Read checkpoint file MA.chk type G16<br> Write formatted file MA.fchk<br> FChkPn:  Coordinates translated and rotated.<br> FChkPn:  Coordinates match /B/ after translation and rotation.<br><br></code></pre></td></tr></table></figure><h3 id="Multiwfn处理">Multiwfn处理</h3><p>这一步的处理与之前类似，很容易就得到了处理好的vtx.pdb文件</p><h3 id="VMD查看分子动力学直径">VMD查看分子动力学直径</h3><p>导入之后的图经过点处理是这样的，还是很难去判断动力学直径的。</p><p><img src="https://image.phoenixjason.cn/file/phoenixjason-img/MDD/5.png" alt=""></p><p>大致调一下视角，选点并测距离。</p><p><img src="https://image.phoenixjason.cn/file/phoenixjason-img/MDD/6.png" alt=""></p><p><img src="https://image.phoenixjason.cn/file/phoenixjason-img/MDD/7.png" alt=""></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs 纯文本">Info) Added new Bonds label MOL1:C/MOL1:C = 3.841880<br></code></pre></td></tr></table></figure><p>最后得出MA的分子动力学直径为3.8419埃</p><h2 id="总结">总结</h2><h3 id="一些思考">一些思考</h3><h4 id="关于计算过程">关于计算过程</h4><p>这个获得的分子动力学直径正如博文中所说，还是比较粗糙的，并没有考虑极化等对电子密度的影响，感觉这个对分子动力学的影响还挺大的，还有溶剂化结构什么的，这一方面的计算还有提升的空间，可能需要更加科学合理的定义以及开创新的计算方法才行。</p><h4 id="关于取点">关于取点</h4><p>在取点的过程中真的是比较折磨的，对其，取点，真的是一个只可意会不可言传的东西，主观性还是有的，虽然最后取出的值不会有太大的差异，但是终究来说还是会让人比较抓狂，自我怀疑，这一部分的工作我觉得可以交给程序去实现，但是具体的实现步骤就还得好好学习一下编程了。任重而道远呀。</p><h3 id="关于报错">关于报错</h3><h4 id="formchk无法运行，没有这个command">formchk无法运行，没有这个command</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">formchk: <span class="hljs-built_in">command</span> not found<br></code></pre></td></tr></table></figure><p><a href="http://bbs.keinsci.com/thread-13975-1-1.html" title="参考链接1">参考链接1</a></p><p>问题点在于软件的安装配置问题，这个需要找管理员解决，或者知道高斯的安装目录，自行设置环境变量。</p><ul><li><p>解决办法</p><p>找老师拿了一个formchk的文件，自己配置了一下环境变量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 创建了一个目录 software/formchk_bin,将老师给的formchk文件置于其中</span><br><span class="hljs-comment"># 给formchk添加运行权限</span><br><span class="hljs-built_in">chmod</span> +x formchk<br><br><span class="hljs-comment"># 配置环境变量</span><br>vim ~/.bashrc<br><span class="hljs-comment"># 在其中添加</span><br><span class="hljs-built_in">export</span> PATH=<span class="hljs-string">&quot;/home/jason/software/formchk_bin:<span class="hljs-variable">$PATH</span>&quot;</span><br><br><span class="hljs-comment">#保存退出，刷新shell的环境</span><br><span class="hljs-built_in">source</span> ~/.barshrc<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Study</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GitHub搭建个人博客</title>
    <link href="/2022/11/09/GitHub%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    <url>/2022/11/09/GitHub%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    
    <content type="html"><![CDATA[<h1>采用Hexo在GitHub上搭建个人博客</h1><blockquote><p>本人第一篇博文在此更新，搭建个人博客的想法很早就有了，曾经试图在阿里云的服务器上自己搭建一个网站，但是因为种种原因放弃了，现在考虑到多种需求，也当作知识的总结归纳，特此在GitHub上搭建一个个人博客网站。</p></blockquote><h2 id="1-注册Github">1 注册Github</h2><h2 id="2-安装git">2 安装git</h2><h2 id="3-安装node-js">3 安装node.js</h2><h2 id="4-安装hexo">4 安装hexo</h2><h2 id="5-部署到Github">5 部署到Github</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Bash"><br><span class="hljs-comment"># 每次打开git都需要输入以下的指令，后面才能使用hexo d部署</span><br>git config --global user.name <span class="hljs-string">&quot;用户名&quot;</span><br>git config --global user.email <span class="hljs-string">&quot;邮箱&quot;</span><br><br><span class="hljs-comment"># 每次都要重新设置Key？</span><br>ssh-keygen -t rsa -C <span class="hljs-string">&quot;你的Github邮箱&quot;</span><br><br><span class="hljs-comment"># 用这个指令来查看链接状况，但是即时这里链接成功了，要是key没有更新的话也无法部署</span><br>ssh -T git@github.com<br><br>hexo d<br></code></pre></td></tr></table></figure><h2 id="6">6</h2>]]></content>
    
    
    
    <tags>
      
      <tag>教程</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>思考</title>
    <link href="/2022/11/09/%E6%80%9D%E8%80%83/"/>
    <url>/2022/11/09/%E6%80%9D%E8%80%83/</url>
    
    <content type="html"><![CDATA[<h1>This is a test for my first site</h1><p>This is a paragraph to have a start.<br>I just wanna say that:<br><strong>it can be observed that when Na <em>atoms</em> are present between the layers of the layered oxide, the process of charge transfer will allow the aggregation of electron clouds near other atoms (Mn, Ni, O) in its vicinity.</strong></p><ul><li>first item<blockquote><p>try this!</p></blockquote></li><li>second item<br>hello world!</li></ul><ol><li>This is another test</li></ol><h2 id="code-block">code block</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> nump <span class="hljs-keyword">as</span> np<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>测试</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>my_site</title>
    <link href="/2022/11/08/my-site/"/>
    <url>/2022/11/08/my-site/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2022/11/08/hello-world/"/>
    <url>/2022/11/08/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start">Quick Start</h2><h3 id="Create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
